//- =====================================================
//- ./src/views/dashboard/widgets/activity-feed.pug
//- =====================================================
mixin activity(activities)


    .dashboard-main
        .dashboard-main__column--left
            .section-header
                h3.section-header__title Recent Device Activity
                button.section-header__action(type="button" data-open-link="/devices")
                    | View All
                    i.far.fa-arrow-right.fa-lg
            .activity-list
                //- each item in activity
                .activity-item(data-open-url=`/davices/${deviceId}`)
                    .activity-item__icon
                        i.far.fa-mobile.fa-lg
                    .activity-item__device
                        p.activity-item__device-title iPhone 14 Pro 
                        p.activity-item__device-subtitle 353456789012345
                    .activity-item__status Repair
                    .activity-item__timestamp
                        i.far.fa-clock.fa-sm
                        | 08/01/2026
                .activity-item(data-open-url=``)
                    .activity-item__icon
                        i.far.fa-mobile.fa-lg
                    .activity-item__device
                        p.activity-item__device-title iPhone 14 Pro 
                        p.activity-item__device-subtitle 353456789012345
                    .activity-item__status Repair
                    .activity-item__timestamp
                        i.far.fa-clock.fa-sm
                        | 08/01/2026
        .dashboard-main__column--right
            .widget.widget--workflow
                .section-header
                    h3.section-header__title Workflow Status
                .workflow-list
                    //- each item in workflow
                    .workflow-item
                        .workflow-item__status Goods Receipt
                        .workflow-item__count
                .workflow-summary
                    p.workflow-summary__label Completed Today
                    p.workflow-summary__value 0
            .widget.widget--workload
                .section-header
                    h3.section-header__title
                        i.far.fa-users.fa-lg
                        | Technician Workload
                .workload-item
                    //- each item in workload
                    .workload-item__user
                        .user-avatar SW
                        .user-meta
                            p.user-meta__name Sam Williams
                            .user-meta__stats
                                span
                                    i.far.fa-wrench.fa-sm
                                    | 1
                                    | active
                                span
                                    i.far.fa-circle-check.fa-sm
                                    | 0
                                    | today

                    .workload-item__progress
                        .progress-bar#workload-progress














    //- if !activities || activities.length === 0
    //-     div.activity-feed-empty(
    //-         role="status"
    //-         aria-live="polite"
    //-     )
    //-         p Keine Aktivit√§ten vorhanden.
    //-         small Das System ist aktuell ruhig. Verd√§chtig ruhig.

    //- else
    //-     ul.activity-feed(
    //-         role="list"
    //-     )
    //-         each event in activities
    //-             -
    //-                 const type = event.type || 'system';
    //-                 const severity = event.severity || 'info';

    //-                 const icons = {
    //-                     device: 'üì±',
    //-                     workflow: 'üîÅ',
    //-                     qc: 'üß™',
    //-                     system: '‚öôÔ∏è',
    //-                     user: 'üë§',
    //-                     part: 'üß©'
    //-                 };

    //-                 const severityLabels = {
    //-                     info: 'Info',
    //-                     success: 'Erfolg',
    //-                     warning: 'Warnung',
    //-                     error: 'Fehler',
    //-                     critical: 'Kritisch'
    //-                 };

    //-             li.activity-event(
    //-                 role="listitem"
    //-                 class=`type-${type} severity-${severity}`
    //-                 aria-label=`${severityLabels[severity]} Ereignis`
    //-             )
    //-                 // ===== Event Icon =====
    //-                 div.event-icon(
    //-                     aria-hidden="true"
    //-                 )
    //-                     span= icons[type] || '‚Ä¢'

    //-                 // ===== Event Body =====
    //-                 div.event-body
    //-                     // --- Header ---
    //-                     div.event-header
    //-                         span.event-type= type.toUpperCase()
    //-                         span.event-severity(
    //-                             class=`sev-${severity}`
    //-                         )= severityLabels[severity]

    //-                     // --- Message ---
    //-                     p.event-message
    //-                         = event.message || 'Keine Beschreibung verf√ºgbar.'

    //-                     // --- Meta Information ---
    //-                     div.event-meta
    //-                         if event.deviceId
    //-                             span.meta-item
    //-                                 strong Ger√§t:
    //-                                 |  #{event.deviceId}
    //-                         if event.technician
    //-                             span.meta-item
    //-                                 strong Techniker:
    //-                                 |  #{event.technician}
    //-                         if event.part
    //-                             span.meta-item
    //-                                 strong Teil:
    //-                                 |  #{event.part}

    //-                     // --- Timestamp ---
    //-                     time.event-time(
    //-                         datetime=event.timestamp
    //-                     )
    //-                         = event.timeFormatted || event.timestamp