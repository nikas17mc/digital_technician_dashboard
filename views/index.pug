extends layout.pug

block content
    .welcome-container
        .welcome-card
            .welcome-header
                i.fas.fa-tools
                h1 Willkommen beim Techniker Dashboard
            .welcome-content
                p Eine umfassende L√∂sung zur Verfolgung von Technikerleistungen, IMEI-Analyse und Datenverwaltung.
                
                .features-grid
                    .feature-card
                        i.fas.fa-database
                        h3 Datenverwaltung
                        p Erfassen und verwalten Sie Technikerdaten mit IMEI-Unterst√ºtzung.
                    
                    .feature-card
                        i.fas.fa-chart-line
                        h3 Analytics
                        p Detaillierte Statistiken und Performance-Tracking.
                    
                    .feature-card
                        i.fas.fa-search
                        h3 IMEI Analyse
                        p Mathematische IMEI-Validierung und Mustererkennung.
                    
                    .feature-card
                        i.fas.fa-file-export
                        h3 Export
                        p Excel-Reports und Datenexport in verschiedenen Formaten.
                
                .quick-actions
                    a.btn.btn-primary.btn-large(href="/dashboard")
                        i.fas.fa-rocket
                        | Dashboard starten
                    button.btn.btn-secondary(onclick="showTutorial()")
                        i.fas.fa-play-circle
                        | Tutorial ansehen
                    button.btn.btn-success(onclick="importSampleData()")
                        i.fas.fa-download
                        | Beispieldaten laden
            
            .welcome-stats
                .stat-item
                    i.fas.fa-users
                    span.stat-number 4
                    span.stat-label Aktive Techniker
                .stat-item
                    i.fas.fa-mobile-alt
                    span.stat-number 0
                    span.stat-label Gespeicherte Ger√§te
                .stat-item
                    i.fas.fa-barcode
                    span.stat-number 0
                    span.stat-label IMEI-Nummern
                .stat-item
                    i.fas.fa-calendar-alt
                    span.stat-number 7
                    span.stat-label Tage Historie

block scripts
    script.
        function showTutorial() {
            const modal = document.createElement('div');
            modal.className = 'modal-overlay';
            modal.innerHTML = `
                <div class="modal modal-large">
                    <div class="modal-header">
                        <h3>üìö Schnellstart-Anleitung</h3>
                        <button class="btn-close" onclick="this.closest('.modal-overlay').remove()">&times;</button>
                    </div>
                    <div class="modal-body">
                        <div class="tutorial-steps">
                            <div class="step">
                                <h4><span class="step-number">1</span> Neuen Eintrag erfassen</h4>
                                <p>‚Ä¢ Techniker, Datum und Status ausw√§hlen</p>
                                <p>‚Ä¢ Anzahl der Ger√§te eingeben</p>
                                <p>‚Ä¢ IMEI-Nummern optional hinzuf√ºgen</p>
                                <p>‚Ä¢ Auf "Eintrag speichern" klicken</p>
                            </div>
                            <div class="step">
                                <h4><span class="step-number">2</span> Daten analysieren</h4>
                                <p>‚Ä¢ Filter f√ºr Zeitr√§ume verwenden</p>
                                <p>‚Ä¢ Techniker-Statistiken anzeigen</p>
                                <p>‚Ä¢ IMEI-Details einsehen</p>
                                <p>‚Ä¢ Mismatch-Analyse durchf√ºhren</p>
                            </div>
                            <div class="step">
                                <h4><span class="step-number">3</span> Berichte exportieren</h4>
                                <p>‚Ä¢ Excel-Reports generieren</p>
                                <p>‚Ä¢ Daten als JSON exportieren</p>
                                <p>‚Ä¢ PDF-Berichte erstellen</p>
                                <p>‚Ä¢ Automatische Backups</p>
                            </div>
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-primary" onclick="this.closest('.modal-overlay').remove()">Verstanden</button>
                    </div>
                </div>
            `;
            document.body.appendChild(modal);
        }
        
        async function importSampleData() {
            if (confirm('M√∂chten Sie Beispieldaten laden? Dies f√ºgt 10 Beispiel-Eintr√§ge hinzu.')) {
                try {
                    const response = await fetch('/data/sample', { method: 'POST' });
                    const result = await response.json();
                    
                    if (result.success) {
                        alert(`‚úÖ ${result.count} Beispieldaten erfolgreich geladen!`);
                        window.location.href = '/dashboard';
                    }
                } catch (error) {
                    alert('‚ùå Fehler beim Laden der Beispieldaten');
                }
            }
        }